<!DOCTYPE html>
<html>

<head>
    <title>Program Selection</title>
    <meta charset="utf-8">
    <meta name="viewport" content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
    <nav>
        <div class="nav-wrapper">
            <a href="#!" class="brand-logo"><img src='assets/img/safari.svg'></a>
            <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
                <li><a href="#" class='waves-effect'>Casa</a></li>
                <li><a href="#" class='waves-effect'>Sobre</a></li>
                <li><a href="#" class='waves-effect'>Programas</a></li>
                <li><a href="#" class='waves-effect'>Reacción</a></li>
            </ul>
            <ul class="side-nav" id="mobile-demo">
                <li><a href="#" class='waves-effect'>Casa</a></li>
                <li><a href="#" class='waves-effect'>Sobre</a></li>
                <li><a href="#" class='waves-effect'>Programas</a></li>
                <li><a href="#" class='waves-effect'>Reacción</a></li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12" id="select-wic">
                <span class="flow-text" id="wic-text">Women, Infant and Children (WIC)</span>
            </div>
        </div>
        <div class="row">
            <div class="col m3 l1"></div>
            <div class="col s5 m3 l5">
                <a class="waves-effect waves-light btn-large" id="eligibleWIC">¿Soy elegible?</a>
            </div>
            <div class="col s2"></div>
            <div class="col s5 m3 l5">
                <a class="waves-effect waves-light btn-large" id="mapsWIC">Recursos cerca de mí
            </a>
            </div>
            <div class="col m3 l1"></div>
        </div>
        <div class="row">
            <div class="col s12 m12 l12" id="select-fs">
                <span class="flow-text" id="fs-text">Supplemental Nutrition Assistance Program (SNAP, CalFresh, Foodstamps)</span>
            </div>
        </div>
        <div class="row">
            <div class="col m3 l1"></div>
            <div class="col s5 m3 l5">
                <a class="waves-effect waves-light btn-large" id="applyFS">¡Aplica ya!</a>
            </div>
            <div class="col s2"></div>
            <div class="col s5 m3 l5">
                <a class="waves-effect waves-light btn-large" id="mapsFS">Recursos cerca de mí</a>
            </div>
            <div class="col m3 l1"></div>
        </div>
        <div class="row">
            <div class="col s12 m12 l12">
                <button id="btnLogin">¡Iniciar sesión!</button>
            </div>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/3.7.1/firebase.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.7.2/firebase.js"></script>
    <script type="text/javascript">
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyDkStdhgEH45RGotVbSO6CakBFFYppiGLs",
        authDomain: "cal-compass.firebaseapp.com",
        databaseURL: "https://cal-compass.firebaseio.com",
        storageBucket: "cal-compass.appspot.com",
        messagingSenderId: "888186000127"
    };

    firebase.initializeApp(config);

    // when the document has loaded  there will be 4 event listeners
    $(document).ready(function() {

        btnLogin.addEventListener('click', function(event) {

            event.preventDefault();

            var provider = new firebase.auth.GoogleAuthProvider();

            firebase.auth().signInWithRedirect(provider);

            firebase.auth().getRedirectResult().then(function(result) {
                if (result.credential) {
                    // This gives you a Google Access Token. You can use it to access the Google API.
                    var token = result.credential.accessToken;
                    // ...
                }
                // The signed-in user info.
                var user = result.user;
                console.log("user", user.displayName);
            }).catch(function(error) {
                // Handle Errors here.
                var errorCode = error.code;
                var errorMessage = error.message;
                // The email of the user's account used.
                var email = error.email;
                // The firebase.auth.AuthCredential type that was used.
                var credential = error.credential;
                // ...
            });
        })


        // provides nav bar with functionality
        $(".button-collapse").sideNav();
        // this button directs them to the form to determine eleigibility for WIC
        $('#eligibleWIC').on('click', function(event) {
            event.preventDefault();
            window.location = "#";
        });

        // this button directs them to the office locator -wic-(maps page)
        $('#mapsWIC').on('click', function(event) {
            event.preventDefault();
            window.location = "mapWIC.html";
        });

        // this button directs them to the form to determine eleigibility for FS
        $('#applyFS').on('click', function(event) {
            event.preventDefault();
            window.location = "https://getcalfresh.org/";
        });

        // this button directs them to the office locator - fs-(maps page)
        $('#mapsFS').on('click', function(event) {
            event.preventDefault();
            window.location = "mapFS.html";
        });
    });
    </script>
    <!-- <script src="https://apis.google.com/js/platform.js" async defer></script> -->
</body>
